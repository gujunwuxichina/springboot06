<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div>
    <input id="quantity" type="number" min="0" step="1"/><br/>
    <button id="btn">抢购</button>
    <div id="result"></div>
</div>
<script src="../../static/js/jquery-1.12.4.js"></script>
<script>
    let result=document.getElementById('result');
    document.getElementById('btn').addEventListener('click',function (event) {
        let quantity=parseInt(document.getElementById('quantity').value,10);
        if(!quantity){
            alert('数量不能为0!');
            return;
        }
        $.post('./purchaseProduct',{
            uId:1,
            pId:1,
            quantity:quantity
        },function (data) {
           result.innerText=data.result;
        });
    },false);
</script>
</body>
</html>